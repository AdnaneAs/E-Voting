<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800" width="1000" height="800">
  <!-- Background and grid -->
  <rect width="1000" height="800" fill="#f9fafc" />
  <defs>
    <filter id="shadow" x="-2" y="-2" width="110%" height="110%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2" />
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    <marker id="auth-arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
    <marker id="data-arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">Blockchain E-Voting System Architecture</text>

  <!-- User Layer -->
  <g transform="translate(50, 100)">
    <rect x="0" y="0" width="900" height="120" rx="8" ry="8" fill="#f5f5f5" stroke="#ddd" stroke-width="2" />
    <text x="450" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#444">User Layer</text>
    
    <!-- Admin -->
    <g transform="translate(150, 55)">
      <rect x="0" y="0" width="160" height="50" rx="8" ry="8" fill="#d5e8f7" stroke="#7fb3d5" stroke-width="2" filter="url(#shadow)" />
      <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2874a6">Admin</text>
    </g>
    
    <!-- Voter -->
    <g transform="translate(590, 55)">
      <rect x="0" y="0" width="160" height="50" rx="8" ry="8" fill="#d5e8f7" stroke="#7fb3d5" stroke-width="2" filter="url(#shadow)" />
      <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2874a6">Voter</text>
    </g>
  </g>

  <!-- Frontend Layer -->
  <g transform="translate(50, 240)">
    <rect x="0" y="0" width="900" height="180" rx="8" ry="8" fill="#e8f4fc" stroke="#bae1ff" stroke-width="2" />
    <text x="450" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#444">Frontend Layer (Next.js)</text>
    
    <!-- Admin Interface -->
    <g transform="translate(100, 60)">
      <rect x="0" y="0" width="220" height="100" rx="8" ry="8" fill="#fff" stroke="#3498db" stroke-width="2" filter="url(#shadow)" />
      <text x="110" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#3498db">Admin Interface</text>
      <text x="110" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Election Management</text>
      <text x="110" y="75" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Credential Management</text>
      <text x="110" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Result Monitoring</text>
    </g>
    
    <!-- Web3 Connectivity -->
    <g transform="translate(340, 60)">
      <rect x="0" y="0" width="220" height="100" rx="8" ry="8" fill="#fff" stroke="#3498db" stroke-width="2" filter="url(#shadow)" />
      <text x="110" y="40" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#3498db">Web3 Connectivity</text>
      <text x="110" y="65" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Blockchain Communication</text>
      <text x="110" y="85" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Transaction Management</text>
    </g>
    
    <!-- Voter Interface -->
    <g transform="translate(580, 60)">
      <rect x="0" y="0" width="220" height="100" rx="8" ry="8" fill="#fff" stroke="#3498db" stroke-width="2" filter="url(#shadow)" />
      <text x="110" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#3498db">Voter Interface</text>
      <text x="110" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Election Viewing</text>
      <text x="110" y="75" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Vote Casting</text>
      <text x="110" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Result Viewing</text>
    </g>
  </g>

  <!-- Smart Contract Layer -->
  <g transform="translate(50, 440)">
    <rect x="0" y="0" width="900" height="180" rx="8" ry="8" fill="#e9f7ef" stroke="#baf2d8" stroke-width="2" />
    <text x="450" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#444">Smart Contract Layer (Solidity)</text>
    
    <!-- Voting Contract -->
    <g transform="translate(150, 60)">
      <rect x="0" y="0" width="250" height="100" rx="8" ry="8" fill="#fff" stroke="#27ae60" stroke-width="2" filter="url(#shadow)" />
      <text x="125" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#27ae60">Voting Contract</text>
      <text x="125" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Election Creation &amp; Management</text>
      <text x="125" y="75" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Vote Recording &amp; Counting</text>
      <text x="125" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Result Calculation</text>
    </g>
    
    <!-- Credential Manager Contract -->
    <g transform="translate(500, 60)">
      <rect x="0" y="0" width="250" height="100" rx="8" ry="8" fill="#fff" stroke="#27ae60" stroke-width="2" filter="url(#shadow)" />
      <text x="125" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#27ae60">Credential Manager Contract</text>
      <text x="125" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Wallet Generation &amp; Management</text>
      <text x="125" y="75" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Credential Activation Control</text>
      <text x="125" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">- Fund Management</text>
    </g>
  </g>

  <!-- Blockchain Layer -->
  <g transform="translate(50, 640)">
    <rect x="0" y="0" width="900" height="120" rx="8" ry="8" fill="#fcf3e8" stroke="#fae1be" stroke-width="2" />
    <text x="450" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#444">Blockchain Layer (Ganache)</text>
    
    <!-- Blockchain State -->
    <g transform="translate(150, 55)">
      <rect x="0" y="0" width="160" height="50" rx="8" ry="8" fill="#fff" stroke="#f39c12" stroke-width="2" filter="url(#shadow)" />
      <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#f39c12">Blockchain State</text>
    </g>
    
    <!-- Smart Contract Storage -->
    <g transform="translate(370, 55)">
      <rect x="0" y="0" width="160" height="50" rx="8" ry="8" fill="#fff" stroke="#f39c12" stroke-width="2" filter="url(#shadow)" />
      <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#f39c12">Contract Storage</text>
    </g>
    
    <!-- Transaction History -->
    <g transform="translate(590, 55)">
      <rect x="0" y="0" width="160" height="50" rx="8" ry="8" fill="#fff" stroke="#f39c12" stroke-width="2" filter="url(#shadow)" />
      <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#f39c12">Transaction History</text>
    </g>
  </g>

  <!-- Connections -->
  <!-- Admin to Admin Interface -->
  <line x1="200" y1="205" x2="200" y2="240" stroke="#e74c3c" stroke-width="2" marker-end="url(#auth-arrowhead)" stroke-dasharray="5,5" />
  
  <!-- Voter to Voter Interface -->
  <line x1="750" y1="205" x2="750" y2="240" stroke="#e74c3c" stroke-width="2" marker-end="url(#auth-arrowhead)" stroke-dasharray="5,5" />
  
  <!-- Admin Interface to Web3 -->
  <line x1="320" y1="350" x2="340" y2="350" stroke="#3498db" stroke-width="2" marker-end="url(#data-arrowhead)" />
  
  <!-- Voter Interface to Web3 -->
  <line x1="580" y1="350" x2="560" y2="350" stroke="#3498db" stroke-width="2" marker-end="url(#data-arrowhead)" />
  
  <!-- Web3 to Smart Contracts -->
  <line x1="450" y1="400" x2="450" y2="440" stroke="#3498db" stroke-width="2" marker-end="url(#data-arrowhead)" />
  
  <!-- Voting Contract to Credential Manager Contract -->
  <line x1="400" y1="500" x2="500" y2="500" stroke="#27ae60" stroke-width="2" marker-end="url(#data-arrowhead)" />
  <text x="450" y="490" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#27ae60">Validates</text>
  
  <!-- Smart Contracts to Blockchain -->
  <line x1="275" y1="620" x2="275" y2="640" stroke="#3498db" stroke-width="2" marker-end="url(#data-arrowhead)" />
  <line x1="625" y1="620" x2="625" y2="640" stroke="#3498db" stroke-width="2" marker-end="url(#data-arrowhead)" />
  
  <!-- Legend -->
  <g transform="translate(780, 10)">
    <rect x="0" y="0" width="200" height="80" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="1" />
    <text x="10" y="20" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#444">Legend:</text>
    
    <line x1="10" y1="40" x2="40" y2="40" stroke="#e74c3c" stroke-width="2" marker-end="url(#auth-arrowhead)" stroke-dasharray="5,5" />
    <text x="50" y="44" font-family="Arial, sans-serif" font-size="12" fill="#666">Authentication Flow</text>
    
    <line x1="10" y1="60" x2="40" y2="60" stroke="#3498db" stroke-width="2" marker-end="url(#data-arrowhead)" />
    <text x="50" y="64" font-family="Arial, sans-serif" font-size="12" fill="#666">Data Flow</text>
  </g>
</svg>