<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 850" width="1000" height="850">
  <!-- Background with gradient -->
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f9fcff" />
      <stop offset="100%" stop-color="#f5f8fc" />
    </linearGradient>
    <filter id="shadow" x="-2" y="-2" width="110%" height="110%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.2" />
    </filter>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="5" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    <marker id="auth-arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
    <marker id="data-arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db" />
    </marker>
    <linearGradient id="user-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f0f7ff" />
      <stop offset="100%" stop-color="#e0eeff" />
    </linearGradient>
    <linearGradient id="frontend-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#e8f4ff" />
      <stop offset="100%" stop-color="#d5e9ff" />
    </linearGradient>
    <linearGradient id="contract-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#e9fff1" />
      <stop offset="100%" stop-color="#d6f7e6" />
    </linearGradient>
    <linearGradient id="blockchain-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#fff7e9" />
      <stop offset="100%" stop-color="#fff0d6" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1000" height="850" fill="url(#bg-gradient)" />
  
  <!-- Title with decorative elements -->
  <rect x="200" y="15" width="600" height="50" rx="25" ry="25" fill="#f8f9fa" stroke="#ddd" stroke-width="1" filter="url(#shadow)" />
  <text x="500" y="48" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#2c3e50">Blockchain E-Voting System Architecture</text>
  <circle cx="210" cy="40" r="10" fill="#3498db" opacity="0.8" />
  <circle cx="790" cy="40" r="10" fill="#3498db" opacity="0.8" />

  <!-- User Layer -->
  <g transform="translate(50, 100)">
    <rect x="0" y="0" width="900" height="130" rx="10" ry="10" fill="url(#user-gradient)" stroke="#c0d8f0" stroke-width="2" />
    <rect x="10" y="10" width="160" height="36" rx="18" ry="18" fill="#2c3e50" opacity="0.9" />
    <text x="90" y="34" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#fff">User Layer</text>
    
    <!-- Admin -->
    <g transform="translate(150, 60)">
      <rect x="0" y="0" width="180" height="55" rx="8" ry="8" fill="#d5e8f7" stroke="#7fb3d5" stroke-width="2" filter="url(#shadow)" />
      <text x="90" y="33" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2874a6">Admin</text>
      <circle cx="35" cy="33" r="15" fill="#2874a6" opacity="0.2" />
      <path d="M35 26 a5,5 0 1,1 0,0.1 M28 42 a7,4 0 1,0 14,0" stroke="#2874a6" fill="none" stroke-width="1.5" />
    </g>
    
    <!-- Voter -->
    <g transform="translate(570, 60)">
      <rect x="0" y="0" width="180" height="55" rx="8" ry="8" fill="#d5e8f7" stroke="#7fb3d5" stroke-width="2" filter="url(#shadow)" />
      <text x="90" y="33" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2874a6">Voter</text>
      <circle cx="35" cy="33" r="15" fill="#2874a6" opacity="0.2" />
      <path d="M35 26 a5,5 0 1,1 0,0.1 M28 42 a7,4 0 1,0 14,0" stroke="#2874a6" fill="none" stroke-width="1.5" />
    </g>
  </g>

  <!-- Frontend Layer -->
  <g transform="translate(50, 250)">
    <rect x="0" y="0" width="900" height="190" rx="10" ry="10" fill="url(#frontend-gradient)" stroke="#b0d0f0" stroke-width="2" />
    <rect x="10" y="10" width="200" height="36" rx="18" ry="18" fill="#2c3e50" opacity="0.9" />
    <text x="110" y="34" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#fff">Frontend Layer (Next.js)</text>
    
    <!-- Admin Interface -->
    <g transform="translate(100, 60)">
      <rect x="0" y="0" width="220" height="110" rx="8" ry="8" fill="#fff" stroke="#3498db" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="220" height="40" rx="8" ry="8" fill="#3498db" />
      <text x="110" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Admin Interface</text>
      <text x="20" y="60" font-family="Arial, sans-serif" font-size="14" fill="#666">• Election Management</text>
      <text x="20" y="82" font-family="Arial, sans-serif" font-size="14" fill="#666">• Credential Management</text>
      <text x="20" y="104" font-family="Arial, sans-serif" font-size="14" fill="#666">• Result Monitoring</text>
    </g>
    
    <!-- Web3 Connectivity -->
    <g transform="translate(340, 60)">
      <rect x="0" y="0" width="220" height="110" rx="8" ry="8" fill="#fff" stroke="#3498db" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="220" height="40" rx="8" ry="8" fill="#3498db" />
      <text x="110" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Web3 Connectivity</text>
      <text x="20" y="60" font-family="Arial, sans-serif" font-size="14" fill="#666">• Blockchain Communication</text>
      <text x="20" y="82" font-family="Arial, sans-serif" font-size="14" fill="#666">• Transaction Management</text>
      <text x="20" y="104" font-family="Arial, sans-serif" font-size="14" fill="#666">• Wallet Connection</text>
    </g>
    
    <!-- Voter Interface -->
    <g transform="translate(580, 60)">
      <rect x="0" y="0" width="220" height="110" rx="8" ry="8" fill="#fff" stroke="#3498db" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="220" height="40" rx="8" ry="8" fill="#3498db" />
      <text x="110" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Voter Interface</text>
      <text x="20" y="60" font-family="Arial, sans-serif" font-size="14" fill="#666">• Election Viewing</text>
      <text x="20" y="82" font-family="Arial, sans-serif" font-size="14" fill="#666">• Vote Casting</text>
      <text x="20" y="104" font-family="Arial, sans-serif" font-size="14" fill="#666">• Result Viewing</text>
    </g>
  </g>

  <!-- Smart Contract Layer -->
  <g transform="translate(50, 460)">
    <rect x="0" y="0" width="900" height="190" rx="10" ry="10" fill="url(#contract-gradient)" stroke="#b0e8c8" stroke-width="2" />
    <rect x="10" y="10" width="280" height="36" rx="18" ry="18" fill="#2c3e50" opacity="0.9" />
    <text x="150" y="34" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#fff">Smart Contract Layer (Solidity)</text>
    
    <!-- Voting Contract -->
    <g transform="translate(150, 60)">
      <rect x="0" y="0" width="250" height="110" rx="8" ry="8" fill="#fff" stroke="#27ae60" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="250" height="40" rx="8" ry="8" fill="#27ae60" />
      <text x="125" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Voting Contract</text>
      <text x="20" y="60" font-family="Arial, sans-serif" font-size="14" fill="#666">• Election Creation & Management</text>
      <text x="20" y="82" font-family="Arial, sans-serif" font-size="14" fill="#666">• Vote Recording & Counting</text>
      <text x="20" y="104" font-family="Arial, sans-serif" font-size="14" fill="#666">• Result Calculation</text>
    </g>
    
    <!-- Credential Manager Contract -->
    <g transform="translate(500, 60)">
      <rect x="0" y="0" width="250" height="110" rx="8" ry="8" fill="#fff" stroke="#27ae60" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="250" height="40" rx="8" ry="8" fill="#27ae60" />
      <text x="125" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Credential Manager Contract</text>
      <text x="20" y="60" font-family="Arial, sans-serif" font-size="14" fill="#666">• Wallet Generation & Management</text>
      <text x="20" y="82" font-family="Arial, sans-serif" font-size="14" fill="#666">• Credential Activation Control</text>
      <text x="20" y="104" font-family="Arial, sans-serif" font-size="14" fill="#666">• Fund Management</text>
    </g>
  </g>

  <!-- Blockchain Layer -->
  <g transform="translate(50, 670)">
    <rect x="0" y="0" width="900" height="140" rx="10" ry="10" fill="url(#blockchain-gradient)" stroke="#f0d0a0" stroke-width="2" />
    <rect x="10" y="10" width="240" height="36" rx="18" ry="18" fill="#2c3e50" opacity="0.9" />
    <text x="130" y="34" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#fff">Blockchain Layer (Ganache)</text>
    
    <!-- Blockchain State -->
    <g transform="translate(120, 60)">
      <rect x="0" y="0" width="180" height="60" rx="8" ry="8" fill="#fff" stroke="#f39c12" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="180" height="35" rx="8" ry="8" fill="#f39c12" />
      <text x="90" y="23" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Blockchain State</text>
      <path d="M50 45 L70 45 L90 45 L110 45 L130 45" stroke="#f39c12" stroke-width="1.5" stroke-dasharray="2,2" />
    </g>
    
    <!-- Smart Contract Storage -->
    <g transform="translate(360, 60)">
      <rect x="0" y="0" width="180" height="60" rx="8" ry="8" fill="#fff" stroke="#f39c12" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="180" height="35" rx="8" ry="8" fill="#f39c12" />
      <text x="90" y="23" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Contract Storage</text>
      <path d="M50 45 L70 45 L90 45 L110 45 L130 45" stroke="#f39c12" stroke-width="1.5" stroke-dasharray="2,2" />
    </g>
    
    <!-- Transaction History -->
    <g transform="translate(600, 60)">
      <rect x="0" y="0" width="180" height="60" rx="8" ry="8" fill="#fff" stroke="#f39c12" stroke-width="2" filter="url(#shadow)" />
      <rect x="0" y="0" width="180" height="35" rx="8" ry="8" fill="#f39c12" />
      <text x="90" y="23" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#fff">Transaction History</text>
      <path d="M50 45 L70 45 L90 45 L110 45 L130 45" stroke="#f39c12" stroke-width="1.5" stroke-dasharray="2,2" />
    </g>
  </g>

  <!-- Connections with animated dashes -->
  <style>
    @keyframes dash {
      to {
        stroke-dashoffset: 30;
      }
    }
    .animated-dash {
      animation: dash 5s linear infinite;
    }
  </style>
  
  <!-- Admin to Admin Interface -->
  <line x1="200" y1="215" x2="200" y2="250" stroke="#e74c3c" stroke-width="2.5" stroke-dasharray="6,4" class="animated-dash" marker-end="url(#auth-arrowhead)" />
  
  <!-- Voter to Voter Interface -->
  <line x1="750" y1="215" x2="750" y2="250" stroke="#e74c3c" stroke-width="2.5" stroke-dasharray="6,4" class="animated-dash" marker-end="url(#auth-arrowhead)" />
  
  <!-- Admin Interface to Web3 -->
  <line x1="320" y1="365" x2="340" y2="365" stroke="#3498db" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
  
  <!-- Voter Interface to Web3 -->
  <line x1="580" y1="365" x2="560" y2="365" stroke="#3498db" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
  
  <!-- Web3 to Smart Contracts -->
  <line x1="450" y1="420" x2="450" y2="460" stroke="#3498db" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
  
  <!-- Voting Contract to Credential Manager Contract -->
  <path d="M400 520 C430 520, 470 520, 500 520" stroke="#27ae60" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
  <rect x="425" y="500" width="50" height="20" rx="10" ry="10" fill="#fff" stroke="#27ae60" stroke-width="1" />
  <text x="450" y="515" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#27ae60">Validates</text>
  
  <!-- Smart Contracts to Blockchain -->
  <line x1="275" y1="650" x2="275" y2="670" stroke="#3498db" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
  <line x1="625" y1="650" x2="625" y2="670" stroke="#3498db" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
  
  <!-- Legend with improved styling -->
  <g transform="translate(780, 10)">
    <rect x="0" y="0" width="210" height="90" rx="10" ry="10" fill="white" stroke="#ddd" stroke-width="1.5" filter="url(#shadow)" />
    <rect x="10" y="10" width="70" height="24" rx="12" ry="12" fill="#2c3e50" opacity="0.8" />
    <text x="45" y="26" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#fff">Legend</text>
    
    <line x1="15" y1="45" x2="45" y2="45" stroke="#e74c3c" stroke-width="2.5" stroke-dasharray="6,4" class="animated-dash" marker-end="url(#auth-arrowhead)" />
    <text x="55" y="49" font-family="Arial, sans-serif" font-size="12" fill="#666">Authentication Flow</text>
    
    <line x1="15" y1="70" x2="45" y2="70" stroke="#3498db" stroke-width="2.5" marker-end="url(#data-arrowhead)" />
    <text x="55" y="74" font-family="Arial, sans-serif" font-size="12" fill="#666">Data Flow</text>
  </g>
  
  <!-- Subtle grid pattern for depth -->
  <g opacity="0.05">
    <defs>
      <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
        <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#000" stroke-width="0.5" />
      </pattern>
    </defs>
    <rect width="1000" height="850" fill="url(#smallGrid)" />
  </g>
</svg>